<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Encryption wrappers, using low-level support from
    sodium and openssl.  cyphr tries to smooth over some pain
    points when using encryption within applications and data analysis
    by wrapping around differences in function names and arguments in
    different encryption providing packages.  It also provides
    high-level wrappers for input/output functions for seamlessly
    adding encryption to existing analyses.">
<title>High Level Encryption Wrappers • cyphr</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="High Level Encryption Wrappers">
<meta property="og:description" content="Encryption wrappers, using low-level support from
    sodium and openssl.  cyphr tries to smooth over some pain
    points when using encryption within applications and data analysis
    by wrapping around differences in function names and arguments in
    different encryption providing packages.  It also provides
    high-level wrappers for input/output functions for seamlessly
    adding encryption to existing analyses.">
<meta property="og:image" content="https://docs.ropensci.org/cyphr/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">cyphr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="articles/cyphr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/data.html">Data Encryption</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/cyphr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="cyphr">cyphr<a class="anchor" aria-label="anchor" href="#cyphr"></a>
</h1>
</div>
<!-- badges: start -->
<p>High-level functions for supporting encryption and decryption of data from R. This allows secure storage and exchange of information, while trying to keep the encryption/decryption code from taking over your analyses. <code>cyphr</code> wraps the lower-level support from <a href="https://github.com/r-lib/sodium" class="external-link"><code>sodium</code></a> and <a href="https://github.com/jeroen/openssl" class="external-link"><code>openssl</code></a>. This package is designed to be easy to use, rather than the most secure thing (you’re using R, remember - for examples of what <code>cyphr</code> can’t protect against see <a href="https://github.com/Ironholds/jammr" class="external-link"><code>jammr</code></a>, <a href="https://github.com/hrbrmstr/rpwnd" class="external-link"><code>rpwnd</code></a> and <a href="https://github.com/romainfrancois/evil.R" class="external-link"><code>evil.R</code></a>.)</p>
<p><code>cyphr</code> provides high level functions to:</p>
<ul>
<li>Encrypt and decrypt<ul>
<li>
<strong>strings</strong>: <code>encrypt_string</code> / <code>decrypt_string</code>
</li>
<li>
<strong>objects</strong>: <code>encrypt_object</code> / <code>decrypt_object</code>
</li>
<li>
<strong>raw data</strong>: <code>encrypt_data</code> / <code>decrypt_data</code>
</li>
<li>
<strong>files</strong>: <code>encrypt_file</code> / <code>decrypt_file</code>
</li>
</ul>
</li>
<li>User-friendly wrappers (<code>encrypt</code> and <code>decrypt</code>) around R’s file reading and writing functions that enable transparent encryption (support included for <code>readRDS</code>/<code>writeRDS</code>, <code>read.csv</code>/<code>write.csv</code>, etc).</li>
</ul>
<p>The package aims to make encrypting and decrypting as easy as</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">encrypt</a></span><span class="op">(</span><span class="fu">save.csv</span><span class="op">(</span><span class="va">dat</span>, <span class="st">"file.csv"</span><span class="op">)</span>, <span class="va">key</span><span class="op">)</span></span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">decrypt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"file.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, <span class="va">key</span><span class="op">)</span></span></code></pre></div>
<p>In addition, the package implements a workflow that allows a group to securely share data by encrypting it with a shared (“symmetric”) key that is in turn encrypted with each users ssh keys. The use case is a group of researchers who are collaborating on a dataset that cannot be made public, for example containing sensitive data. However, they have decided or need to store it in a setting that they are not 100% confident about the security of the data. So encrypt the data at each read/write.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install <code>cyphr</code> from CRAN with</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"cyphr"</span><span class="op">)</span></span></code></pre></div>
<p>To install a development version from github, you can use <code>remotes</code></p>
<p>To install <code>cyphr</code> from github:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/cyphr"</span>, upgrade <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scope">Scope<a class="anchor" aria-label="anchor" href="#scope"></a>
</h2>
<p>The scope of the package is to protect data that has been saved to disk. It is not designed to stop an attacker targeting the R process itself to determine the contents of sensitive data. The package does try to prevent you accidentally saving to disk the contents of sensitive information, including the keys that could decrypt such information.</p>
</div>
<div class="section level2">
<h2 id="objects-to-handle-keys">Objects to handle keys:<a class="anchor" aria-label="anchor" href="#objects-to-handle-keys"></a>
</h2>
<p>Decide on a style of encryption and create a key object</p>
<ul>
<li>
<code>key_sodium</code>: Symmetric encryption, using <a href="https://cran.r-project.org/package=sodium" class="external-link">sodium</a> – everyone shares the same key (which must be kept secret!) and can encrypt and decrypt data with it. This is used as a building block but is inflexible because of the need to keep the key secret.</li>
<li>
<code>key_openssl</code>: Symmetric encryption using <a href="https://cran.r-project.org/package=openssl" class="external-link">openssl</a>
</li>
<li>
<code>keypair_sodium</code>: Public key encryption with <a href="https://cran.r-project.org/package=sodium" class="external-link">sodium</a> – this lets people encrypt messages using your public key that only you can read using your private key.</li>
<li>
<code>keypair_openssl</code>: Public key encryption, using <a href="https://cran.r-project.org/package=openssl" class="external-link">openssl</a>, which has the big advantage that many people already have compatible (ssh) keys in standard places with standard file formats (see <code>?encrypt_envelope</code> in the the <code>openssl</code> package).</li>
</ul>
<p><code>cyphr</code> does not include wrappers for key generation for sodium - sodium keys do not have a file format: So a secret symmetric key in <code>sodium</code> might be:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">k</span> <span class="op">&lt;-</span> <span class="fu">sodium</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/sodium/reference/keygen.html" class="external-link">keygen</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">k</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] 48 35 a2 6c 05 27 65 75 cb 08 01 de 76 8f 71 fe 3f d7 e4 7a df bf d8 e7 08</span></span>
<span><span class="co">## [26] d5 fb e9 61 c8 5f d1</span></span></code></pre>
<p>With this key we can create the <code>key_sodium</code> object:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key</span> <span class="op">&lt;-</span> <span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/key_sodium.html">key_sodium</a></span><span class="op">(</span><span class="va">k</span><span class="op">)</span></span>
<span><span class="va">key</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;cyphr_key: sodium&gt;</span></span></code></pre>
<p>If the key was saved to file that would work too:</p>
<p>If you load a password protected ssh key you will be prompted for your passphrase. <code>cyphr</code> will ensure that this is not echoed onto the console.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key</span> <span class="op">&lt;-</span> <span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/key_openssl.html">key_openssl</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## Please enter private key passphrase:</span></span>
<span><span class="va">key</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="encrypt--decrypt-a-file">Encrypt / decrypt a file<a class="anchor" aria-label="anchor" href="#encrypt--decrypt-a-file"></a>
</h2>
<p>If you have files that already exist and you want to encrypt or decrypt, the functions <code><a href="reference/encrypt_data.html">cyphr::encrypt_file</a></code> and <code><a href="reference/encrypt_data.html">cyphr::decrypt_file</a></code> will do that (these are workhorse functions that are used internally throughout the package)</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">iris</span>, <span class="st">"myfile"</span><span class="op">)</span></span>
<span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt_data.html">encrypt_file</a></span><span class="op">(</span><span class="st">"myfile"</span>, <span class="va">key</span>, <span class="st">"myfile.encrypted"</span><span class="op">)</span></span></code></pre></div>
<p>The file is encrypted now:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"myfile.encrypted"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Error in readRDS("myfile.encrypted"): unknown input format</span></span></code></pre>
<p>Decrypt the file and read it:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt_data.html">decrypt_file</a></span><span class="op">(</span><span class="st">"myfile.encrypted"</span>, <span class="va">key</span>, <span class="st">"myfile.clear"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"myfile.clear"</span><span class="op">)</span>, <span class="va">iris</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="wrappers-around-rs-file-functions">Wrappers around R’s file functions<a class="anchor" aria-label="anchor" href="#wrappers-around-rs-file-functions"></a>
</h2>
<p>Encrypting files like the above risks leaving a cleartext (i.e., unencrypted) version around. If you want to wrap the output of something like <code>write.csv</code> or <code>saveRDS</code> you really have no choice but to write out the file first, encrypt it, and delete the clear version. Making sure that this happens even if a step fails is error prone and takes a surprising number of repetitive lines of code.</p>
<p>Alternatively, to encrypt the output of a file producing command, just wrap it in <code><a href="reference/encrypt.html">cyphr::encrypt</a></code></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">encrypt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">iris</span>, <span class="st">"myfile.rds"</span><span class="op">)</span>, <span class="va">key</span><span class="op">)</span></span></code></pre></div>
<p>Then to decrypt the a file to feed into a file consuming command, wrap it in <code><a href="reference/encrypt.html">cyphr::decrypt</a></code></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">decrypt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"myfile.rds"</span><span class="op">)</span>, <span class="va">key</span><span class="op">)</span></span></code></pre></div>
<p>The round-trip preserves the data:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">iris</span><span class="op">)</span> <span class="co"># yay</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<p>But without the key, it cannot be read:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"myfile.rds"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Error in readRDS("myfile.rds"): unknown input format</span></span></code></pre>
<p>The above commands work through computing on the language, rewriting the <code>readRDS</code> and <code>saveRDS</code> commands. Commands for reading and writing tabular and plain text files (<code>read.csv</code>, <code>readLines</code>, etc) are also supported, and the way the rewriting is done is designed to be extensible.</p>
<p>The argument to the wrapped functions can be connection objects. In this case the <em>actual</em> command is written to a file and the contents of that file are encrypted and written to the connection. When reading/writing multiple objects from/to a single connection though, this is likely to go very badly.</p>
<div class="section level3">
<h3 id="supporting-additional-functions">Supporting additional functions<a class="anchor" aria-label="anchor" href="#supporting-additional-functions"></a>
</h3>
<p>The functions supported so far are:</p>
<ul>
<li>
<code>readLines</code> / <code>writeLines</code>
</li>
<li>
<code>readRDS</code> / <code>writeRDS</code>
</li>
<li>
<code>read</code> / <code>save</code>
</li>
<li>
<code>read.table</code> / <code>write.table</code>
</li>
<li>
<code>read.csv</code> / <code>read.csv2</code> / <code>write.csv</code>
</li>
<li>
<code>read.delim</code> / <code>read.delim2</code>
</li>
</ul>
<p>However, there are bound to be more functions that could be useful to add here (e.g., <code>readxl::read_excel</code>). Either pass the name of the file argument to <code><a href="reference/encrypt.html">cyphr::encrypt</a></code> / <code><a href="reference/encrypt.html">cyphr::decrypt</a></code> as</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">decrypt</a></span><span class="op">(</span><span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="st">"myfile.xlsx"</span><span class="op">)</span>, <span class="va">key</span>, file_arg <span class="op">=</span> <span class="st">"path"</span><span class="op">)</span></span></code></pre></div>
<p>or <em>register</em> the function with the package using <code>rewrite_register</code>:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/rewrite_register.html">rewrite_register</a></span><span class="op">(</span><span class="st">"readxl"</span>, <span class="st">"read_excel"</span>, <span class="st">"path"</span><span class="op">)</span></span></code></pre></div>
<p>Then you can use</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cyphr</span><span class="fu">::</span><span class="fu"><a href="reference/encrypt.html">decrypt</a></span><span class="op">(</span><span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="st">"myfile.xlsx"</span><span class="op">)</span>, <span class="va">key</span><span class="op">)</span></span></code></pre></div>
<p>to decrypt the file (these are equivalent, but the former will likely be more convenient if you’re only dealing with a couple of files, the latter will be more convenient if you are dealing with many).</p>
</div>
</div>
<div class="section level2">
<h2 id="collaborating-with-encrypted-data">Collaborating with encrypted data<a class="anchor" aria-label="anchor" href="#collaborating-with-encrypted-data"></a>
</h2>
<p>Even with high-level functions to ease encrypting and decrypting things given a key, there is some work to be done to distribute a set of keys across a group of people who are working together so that everyone can encrypt and decrypt the data but so that the keys themselves are not compromised.</p>
<p>The package contains support for a group of people are working on a sensitive data set. The data will be stored with a symmetric key. However, we never actually store the key directly, instead we’ll store a copy for each user that is encrypted with the user’s key. Any user with access to the data can authorise another user to access the data. This is described in more detail in the <a href="https://docs.ropensci.org/cyphr/articles/data.html">vignette</a> (in R: <code><a href="articles/data.html">vignette("data", package = "cyphr")</a></code>).</p>
</div>
<div class="section level2">
<h2 id="why-are-wrappers-needed">Why are wrappers needed?<a class="anchor" aria-label="anchor" href="#why-are-wrappers-needed"></a>
</h2>
<p>The low level functions in <code>sodium</code> and <code>openssl</code> work with raw data, for generality. Few users encounter raw vectors in their typical use of R, so these require serialisation. Most of the encryption involves a little extra random data (the “nonce” in <code>sodium</code> and similar additional pieces with <code>openssl</code>). These need storing with the data, and then separating from the data when decryption happens.</p>
</div>
<div class="section level2">
<h2 id="licence">Licence<a class="anchor" aria-label="anchor" href="#licence"></a>
</h2>
<p>MIT © <a href="https://github.com/richfitz" class="external-link">Rich FitzJohn</a>.</p>
<p>Please note that this project is released with a <a href="https://github.com/ropensci/cyphr/blob/master/CONDUCT.md" class="external-link">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=cyphr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/cyphr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/cyphr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cyphr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rich FitzJohn <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/cyphr" class="external-link"><img src="https://ropensci.r-universe.dev/badges/cyphr" alt="cyphr status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/114" class="external-link"><img src="https://badges.ropensci.org/114_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
